/**
 * Unified Cosmic Theme
 * 
 * This is the single source of truth for theme variables and styling
 * throughout the application. It combines and standardizes the variables
 * from theme-variables.css and cosmic-config.css.
 */

:root {
  /* ======== Core Colors ======== */
  --color-primary: 59 130 246; /* Cosmic blue - rgb format for Tailwind */
  --color-primary-hex: #3b82f6; /* Hex format for backward compatibility */
  --color-secondary: 139 92 246; /* Cosmic purple */
  --color-accent: 245 158 11; /* Cosmic orange */
  
  /* Background colors */
  --color-background: 17 24 39; /* Dark background */
  --color-card: 31 41 55; /* Dark card background */
  --cosmic-bg-primary: #0f0f1a; /* Backward compatibility */
  --cosmic-bg-secondary: #13131f; /* Backward compatibility */
  
  /* Text colors */
  --color-text: 229 231 235; /* Light text */
  --color-muted: 156 163 175; /* Muted text */
  --text-primary: #ffffff; /* Backward compatibility */
  --text-secondary: #94a3b8; /* Backward compatibility */
  --text-accent: #60a5fa; /* Backward compatibility */
  
  /* Border colors */
  --color-border: 55 65 81; /* Border color */
  
  /* ======== Semantic Colors ======== */
  --color-success: 34 197 94; /* Green */
  --color-info: 6 182 212; /* Cyan */
  --color-warning: 245 158 11; /* Orange */
  --color-error: 239 68 68; /* Red */
  
  /* ======== Component Variables ======== */
  /* Card */
  --card-foreground: rgb(var(--color-text));
  --card-border: 1px solid rgb(var(--color-border) / 0.2);
  --card-hover: rgb(var(--color-card) / 0.8);
  --card-shadow: var(--shadow-md);
  --resume-panel-bg: rgba(17, 25, 40, 0.75);
  --resume-panel-border: rgba(59, 130, 246, 0.3);
  
  /* Button sizes */
  --button-height-xs: 1.5rem;
  --button-height-sm: 2rem;
  --button-height-md: 2.5rem;
  --button-height-lg: 3rem;
  --button-height-xl: 3.5rem;
  
  /* Form Controls */
  --input-height: 2.5rem;
  --input-background: rgb(var(--color-card));
  --input-border: 1px solid rgb(var(--color-border) / 0.3);
  --input-focus-ring: 0 0 0 2px rgb(var(--color-primary) / 0.25);
  --cosmic-input-bg: rgba(15, 23, 42, 0.6);
  
  /* Z-index layers */
  --z-dropdown: 100;  /* Increased to ensure dropdowns appear above navbars */
  --z-sticky: 20;
  --z-fixed: 30;
  --z-modal-backdrop: 40;
  --z-modal: 50;
  --z-popover: 110;  /* Increased to ensure popover content appears above everything */
  --z-tooltip: 120;  /* Increased to be above popovers */
  --z-toast: 130;    /* Increased to be the top-most layer */
  
  /* ======== Effects & Gradients ======== */
  --cosmic-gradient: linear-gradient(
    135deg,
    rgb(var(--color-primary) / 0.8),
    rgb(var(--color-secondary) / 0.8)
  );
  --cosmic-gradient-subtle: linear-gradient(
    135deg,
    rgb(var(--color-primary) / 0.1),
    rgb(var(--color-secondary) / 0.1)
  );
  
  /* Shadow effects */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);
  --cosmic-shadow-glow: 0 0 15px rgb(var(--color-primary) / 0.5);
  --cosmic-shadow-glow-strong: 0 0 30px rgb(var(--color-primary) / 0.8);
  
  /* Animation durations */
  --duration-fast: 150ms;
  --duration-normal: 300ms;
  --duration-slow: 500ms;
  
  /* Border radius */
  --radius-sm: 0.125rem;
  --radius-default: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-full: 9999px;
  
  /* Spacing system (tailwind compatible) */
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.25rem;
  --space-6: 1.5rem;
  --space-8: 2rem;
  --space-10: 2.5rem;
  --space-12: 3rem;
  --space-16: 4rem;
}

/* ======== Dark Mode Styles ======== */
:root.dark {
  color-scheme: dark;
}

/* ======== Light Mode Overrides ======== */
:root.light {
  /* Background colors for light mode */
  --color-background: 240 245 255; /* Light blue background */
  --color-card: 255 255 255; /* White card background */
  
  /* Text colors for light mode */
  --color-text: 15 23 42; /* Dark text */
  --color-muted: 71 85 105; /* Muted text */
  
  /* Border colors for light mode */
  --color-border: 226 232 240; /* Light border color */
}

/* ======== Master Background for all pages ======== */
.cosmic-app-container {
  position: relative;
  background-color: rgb(var(--color-background));
  background-image: 
    radial-gradient(circle at 20% 20%, rgb(var(--color-primary) / 0.15) 0%, transparent 40%),
    radial-gradient(circle at 80% 80%, rgb(var(--color-secondary) / 0.15) 0%, transparent 40%),
    radial-gradient(circle at 50% 50%, rgba(16, 185, 129, 0.10) 0%, transparent 50%);
  overflow: hidden;
}

/* Subtle star pattern overlay */
.cosmic-app-container::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    radial-gradient(rgba(255, 255, 255, 0.8) 1px, transparent 1px),
    radial-gradient(rgba(255, 255, 255, 0.8) 1px, transparent 1px);
  background-size: 50px 50px;
  background-position: 0 0, 25px 25px;
  opacity: 0.1;
  pointer-events: none;
}

/* ======== Resume Builder specific styles ======== */
.cosmic-resume-builder {
  display: flex;
  flex-direction: column;
  min-height: calc(100vh - 4rem);
}

.cosmic-resume-content {
  flex-grow: 1;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  padding: 1.5rem;
}

@media (max-width: 1024px) {
  .cosmic-resume-content {
    grid-template-columns: 1fr;
  }
}

.cosmic-section {
  background: rgba(var(--color-card) / 0.3);
  border: 1px solid rgba(var(--color-border) / 0.2);
  border-radius: var(--radius-lg);
  padding: var(--space-4);
  margin-bottom: var(--space-4);
}

.cosmic-section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-4);
  color: rgb(var(--color-text));
}

.cosmic-section-header h3 {
  font-size: 1.125rem;
  font-weight: 500;
  color: rgb(var(--color-text));
  display: flex;
  align-items: center;
}

.cosmic-section-icon {
  color: rgb(var(--color-primary));
  margin-right: var(--space-2);
}

.cosmic-input {
  background-color: rgba(var(--color-card) / 0.3);
  border: 1px solid rgba(var(--color-border) / 0.2);
  color: rgb(var(--color-text));
}

.cosmic-input:focus {
  border-color: rgb(var(--color-primary) / 0.5);
  box-shadow: var(--input-focus-ring);
}

.cosmic-textarea {
  background-color: rgba(var(--color-card) / 0.3);
  border: 1px solid rgba(var(--color-border) / 0.2);
  color: rgb(var(--color-text));
  min-height: 6rem;
}

.cosmic-textarea:focus {
  border-color: rgb(var(--color-primary) / 0.5);
  box-shadow: var(--input-focus-ring);
}